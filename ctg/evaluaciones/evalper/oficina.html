<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación desempeño - UT ITALCO</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" integrity="sha512-mSYUmp1HYZDFaVKK//63EcZq4iFWFjxSL+Z3T/aCt4IO9Cejm03q3NKKYN6pFQzY0SBOr8h+eCIAZHPXcpZaNw==" crossorigin="anonymous"
        referrerpolicy="no-referrer" />


    <style>
        .cab {
            background-color: rgb(9, 85, 160);
            color: white;
        }
        
        .oculto {
            display: none;
        }
        
        .visible {
            display: contents;
        }
        
        .milabel {
            background-color: rgb(9, 85, 160);
            color: white;
            width: 100%;
            padding: 15px;
        }
        
        .milabeltit {
            background-color: rgb(227, 252, 8);
            color: rgb(0, 0, 0);
            width: 100%;
            padding: 5px;
            padding-left: 15px;
        }
        
        .form-check {
            padding: 5px;
            padding-left: 40px;
        }
        
        .opc {
            padding: 8px;
            padding-left: 40px;
        }
        
        th {
            text-align: center;
        }
        
        td {
            text-align: center;
        }
        
        .conv {
            font-size: 10px;
            font-family: 'Arial Narrow', Arial, sans-serif;
        }
    </style>
    <style>
        #preview {
            border: 1px solid #ddd;
            padding: 5px;
            border-radius: 2px;
            background: #fff;
            max-width: 600px;
        }
        
        #preview img {
            width: 100%;
            display: block;
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="jumbotron cab">
            <center>
                <img src="img/logo_p.png" width="300px" alt="">
            </center>
            <h5 class="text-center pt-3">EVALUACIÓN DEL DESEMPEÑO Y CUMPLIMIENTO DE OBJETIVOS DEL PERSONAL</h5>
        </div>

        <div id="cuerpo">

            <label for="" class="milabel">
                Datos del Evaluador
            </label>

            <div class="form-group">
                <label for="">Nombre</label>
                <input type="text" id="nombreeval" class="form-control" readonly>
            </div>

            <div class="form-group">
                <label for="">Cargo</label>
                <input type="text" id="cargoeval" class="form-control" readonly>
            </div>

            <label for="" class="milabel">
                Datos del Evaluado
            </label>

            <div class="form-group">
                <label for="">Nombre</label>
                <input type="text" id="nombres" class="form-control" placeholder="Nombre Completo">
            </div>

            <div class="form-group">
                <label for="" class="">
                    Documento
                </label>
                <input type="number" id="doc" class="form-control" placeholder="CC sin puntos">
            </div>

            <div class="form-group">
                <label for="" class="">
                    Cargo
                </label>
                <input type="text" id="cargo" class="form-control" placeholder="Cargo">
            </div>

            <div class="form-group">
                <label for="">ODS</label>
                <input type="text" id="ods" class="form-control" placeholder="Orden de servicio">
            </div>

            <label for="" class="milabel">
                Período Evaluado
            </label>

            <div class="row">
                <div class="col-sm-6 col-6">
                    <div class="form-group">
                        <label for="">Desde</label>
                        <input type="date" id="desde" class="form-control">
                    </div>
                </div>
                <div class="col-sm-6 col-6">
                    <div class="form-group">
                        <label for="">Hasta</label>
                        <input type="date" id="hasta" class="form-control">
                    </div>
                </div>
            </div>


            <label for="" class="milabel">
                Evaluación
            </label>
            <p>
                Seleccione su calificación (Tenga en cuenta que la calificación es de 1 a 5, siendo 1 la más baja y 5 la más alta)
            </p>






            <div class="form-group text-center mt-5">
                <button type="button" class="btn btn-info" style="background-color: rgb(9, 85, 160);" onclick="enviar()">Enviar</button>
            </div>


        </div>


        <hr>
        <center>
            Realizado por Departamento de Innovacion y Desarrollo Tecnólogico UT Italco Cartagena
        </center>
        <hr>



    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>

    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>




    <script>
        var server = 'https://utitalco.com/evalper/';

        function getParameterByName(name) {
            name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(location.search);
            return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }




        function enviar() {

            var nombres = $('#nombres').val()
            var doc = $('#doc').val()
            var cargo = $('#cargo').val()
            var ods = $('#ods').val()
            var pinicial = $('#desde').val()
            var pfinal = $('#hasta').val()
            var observaciones = $('#observaciones').val()
            var planes = $('#planes').val()
            var compromisos = $('#compromisos').val()

            if (nombres != '' && doc != '' && cargo != '') {

                $.post(server + 'guardarEval.php', {
                        evaluador: evaluador,
                        cargoeval: cargoeval,
                        pinicial: pinicial,
                        pfinal: pfinal,
                        observaciones: observaciones,
                        planes: planes,
                        compromisos: compromisos,
                        nombres: nombres,
                        doc: doc,
                        cargo: cargo,
                        ods: ods,
                        p1: p1,
                        p2: p2,
                        p3: p3,
                        p4: p4,
                        p5: p5,
                        p6: p6,
                        p7: p7,
                        p8: p8,
                        p9: p9,
                        p10: p10,
                        p11: p11,
                        p12a: p12a,
                        p12b: p12b,
                        p13: p13,
                        p14: p14,
                        prom: prom
                    },
                    function(resp) {
                        Swal.fire({
                            position: 'top-end',
                            icon: 'info',
                            title: 'Correcto...',
                            showConfirmButton: false,
                            timer: 500
                        })
                        $('#bv').html('')
                        $('#cuerpo').html('<center>Evaluación registrada de forma correcta. <button typye="button" class="btn btn-success" onclick="reiniciar()">Realizar otra evaluación</button> </center>')
                    })

            } else {
                Swal.fire({
                    position: 'top-end',
                    icon: 'info',
                    title: 'Por favor registre todos los datos',
                    showConfirmButton: false,
                    timer: 1500
                })
            }

        }
    </script>

</body>

</html>