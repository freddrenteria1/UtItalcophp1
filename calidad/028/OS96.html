<!DOCTYPE html>

<html>

<head>

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title></title>
	<meta name="generator" content="LibreOffice 7.3.6.2 (Linux)" />
	<meta name="author" content="nathaly.ellis_ut" />
	<meta name="created" content="2017-11-13T21:36:37" />
	<meta name="changedby" content="01AC0479" />
	<meta name="changed" content="2022-10-27T19:48:40" />
	<meta name="AppVersion" content="16.0300" />

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

	<style type="text/css">
		body,
		div,
		table,
		thead,
		tbody,
		tfoot,
		tr,
		th,
		td,
		p {
			font-family: "Calibri";
			font-size: x-small
		}

		a.comment-indicator:hover+comment {
			background: #ffd;
			position: absolute;
			display: block;
			border: 1px solid black;
			padding: 0.5em;
		}

		a.comment-indicator {
			background: red;
			display: inline-block;
			border: 1px solid black;
			width: 0.5em;
			height: 0.5em;
		}

		comment {
			display: none;
		}
	</style>

	<style>
		@media print {

			.oculto-impresion,
			.oculto-impresion * {
				display: none !important;
			}
		}

		.salto {
			PAGE-BREAK-AFTER: always;
		}

		.mispan {
			font-size: 16px;
		}

		textarea {
			font-size: 18px;
		}

		input[type=text] {
			width: 100%;
			padding: 12px;
			margin: 8px 0;
			border: 0;
			box-sizing: border-box;
			font-size: 18px;

		}

		.lineabaja {
			border-bottom-style: solid;
			border-bottom-width: 1px;
		}

		input[type=date] {
			width: 100%;
			padding: 12px;
			margin: 8px 0;
			border: 0;
			box-sizing: border-box;
			font-size: 18px;
		}

		input[type=time] {
			width: 100%;
			padding: 12px;
			margin: 8px 0;
			border: 0;
			box-sizing: border-box;
			font-size: 18px;
		}

		input[type=radio] {
			height: 20px;
			width: 20px;
		}

		select {
			background: transparent;
			border: none;
			font-size: 18px;
			height: 30px;
			padding: 5px;
			width: 250px;
		}

		.oculto {
			display: none;
		}

		.visible {
			display: inline;
		}

		.cuerpo {
			margin: 0 auto;
		}
	</style>

</head>

<body>
	<table id="tblcuerpo" cellspacing="0" border="0" style="margin: 0 auto; margin-top: 10px; width: 95%;">
		<colgroup span="5" width="27"></colgroup>
		<colgroup width="40"></colgroup>
		<colgroup span="11" width="27"></colgroup>
		<colgroup width="35"></colgroup>
		<colgroup span="15" width="27"></colgroup>
		<colgroup width="26"></colgroup>
		<tr>
			<td style="border-top: 2px solid #000000; border-bottom: 2px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=6 rowspan=3 height="99" align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br><img
							src="logo_m.png" width=150 >
					</font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 2px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=22 rowspan=3 align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4>REGISTRO DE CONTROL DE ACTIVIDADES MANTENIMIENTO BÁSICO A EQUIPO
						ROTATIVO FILTROS DE BOMBAS (BEC)</font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=6 align="center" valign=bottom><b>
					<font face="Arial Narrow" size=4 color="#000000">FRM-BCA-19.370.3.OS96</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=6 align="center" valign=bottom><b>
					<font face="Arial Narrow" size=4 color="#000000">Fecha: 20/02/2020</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 2px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=6 align="center" valign=bottom><b>
					<font face="Arial Narrow" size=4 color="#000000">Versión: 0</font>
				</b></td>
		</tr>
		<tr>
			<td height="25" align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=4><br></font>
				</b></td>
			<td align="center" valign=bottom>
				<font face="Arial Narrow" color="#000000"><br></font>
			</td>
			<td align="center" valign=bottom>
				<font face="Arial Narrow" color="#000000"><br></font>
			</td>
			<td align="center" valign=bottom>
				<font face="Arial Narrow" color="#000000"><br></font>
			</td>
			<td align="center" valign=bottom>
				<font face="Arial Narrow" color="#000000"><br></font>
			</td>
			<td align="center" valign=bottom>
				<font face="Arial Narrow" color="#000000"><br></font>
			</td>
			<td align="center" valign=bottom>
				<font face="Arial Narrow" color="#000000"><br></font>
			</td>
		</tr>
		<tr>
			<td style="border-top: 2px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=8 height="36" align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=3>ESPECIALIDAD</font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=14 align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=3><span id="esp"></span></font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=6 align="center" valign=middle bgcolor="#FFFFFF" sdnum="1033;0;0.00"><b>
					<font face="Arial Narrow" size=3>TAG</font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=6 align="center" valign=middle><b>
					<font face="Arial Narrow" color="#000000" size=6><span id="tag"></span></font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 height="24" align="left" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size=3 color="#000000">FECHA:</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000"
				colspan=8 align="center" valign=middle><b>
					<input type="date" id="fecha" onchange="actInfo()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="right" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size= 3 color="#000000">EQUIPO:</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 1px solid #000000"
				colspan=9 align="center" valign=middle><b>
					<input type="text" id="equipo" onchange="actInfo()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="right" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size= 3 color="#000000">REPORTE No.</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 2px solid #000000"
				colspan=7 align="center" valign=bottom><b>
					<input type="text" id="reporte" onchange="actInfo()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=8 height="24" align="left" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size= 3 color="#000000">DATOS REGISTRADOS POR: </font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 2px solid #000000"
				colspan=26 align="center" valign=bottom><b>
					<input type="text" id="nombre" onchange="actInfo()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=34 height="24" align="center" valign=bottom>
				<font face="Arial Narrow" color="#000000"><br></font>
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000"
				colspan=22 rowspan=2 height="42" align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">ACTIVIDADES PRELIMINARES</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">EFECTUADO</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=8 rowspan=2 align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">OBSERVACIÓN O ESTADO</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">SI / NO</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="32" align="left" valign=middle>
				<font face="Arial Narrow" size="4">Aplicar SAS operacional, SAES para despresionar y drenar el sistema</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=middle><b>
					<select id="preli1" style="width: 70px;" class="ut" onchange="actPreliminares()">
						<option value=""></option>
						<option value="SI">SI</option>
						<option value="NO">NO</option>
					</select>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=8 align="center" valign=middle><b>
					<input type="text" id="obs1" onchange="actPreliminares()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="37" align="left" valign=middle>
				<font face="Arial Narrow" size="4">Verificar condiciones de seguridad (elementos de proteccion personal,
					facilidades, area de trabajo)</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=middle><b>
					<select id="preli2" style="width: 70px;" class="ut" onchange="actPreliminares()">
						<option value=""></option>
						<option value="SI">SI</option>
						<option value="NO">NO</option>
					</select>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=8 align="center" valign=middle><b>
					<input type="text" id="obs2" onchange="actPreliminares()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="26" align="left" valign=middle>
				<font face="Arial Narrow" size="4">Verificar disponibilidad de servicios industriales (agua, aire, vapor)</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=middle><b>
					<select id="preli3" style="width: 70px;" class="ut" onchange="actPreliminares()">
						<option value=""></option>
						<option value="SI">SI</option>
						<option value="NO">NO</option>
					</select>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=8 align="center" valign=middle><b>
					<input type="text" id="obs3" onchange="actPreliminares()" >
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="26" align="left" valign=middle>
				<font face="Arial Narrow" size="4">Disposicion de la herramienta adecuada y requerida para adelantar la labor
				</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=middle><b>
					<select id="preli4" style="width: 70px;" class="ut" onchange="actPreliminares()">
						<option value=""></option>
						<option value="SI">SI</option>
						<option value="NO">NO</option>
					</select>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=8 align="center" valign=middle><b>
					<input type="text" id="obs4" onchange="actPreliminares()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=34 height="25" align="center" valign=middle bgcolor="#BFBFBF"><b>
					<font face="Arial Narrow" size="3">PROCEDIMIENTO DE REVISION</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000"
				colspan=22 rowspan=2 height="42" align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">ACTIVIDAD</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">EFECTUADO</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=8 rowspan=2 align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">OBSERVACIÓN O ESTADO</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">SI / NO</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="20" align="left" valign=middle>
				<font face="Arial Narrow" size="4" color="#000000">Apertura de bridas y retiro del elemento filtrante</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=bottom>
				<select id="rev1" style="width: 70px;" class="ut" onchange="actRevision()">
					<option value=""></option>
					<option value="SI">SI</option>
					<option value="NO">NO</option>
				</select>
			</b></td>
		<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
			colspan=8 align="center" valign=middle><b>
				<input type="text" id="obsa1" onchange="actRevision()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="22" align="left" valign=middle>
				<font face="Arial Narrow" size= 4 color="#000000">Realizar limpieza al elemento filtrante y demas componentes
					del filtro</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=bottom>
				<select id="rev2" style="width: 70px;" class="ut" onchange="actRevision()">
					<option value=""></option>
					<option value="OK">SI</option>
					<option value="NO">NO</option>
				</select>
			</b></td>
		<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
			colspan=8 align="center" valign=middle><b>
				<input type="text" id="obsa2" onchange="actRevision()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="22" align="left" valign=middle>
				<font face="Arial Narrow" size= 4 color="#000000">Inspeccionar elemento filtrante y demas componentes del filtro
				</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=bottom>
				<select id="rev3" style="width: 70px;" class="ut" onchange="actRevision()">
					<option value=""></option>
					<option value="SI">SI</option>
					<option value="NO">NO</option>
				</select>
			</b></td>
		<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
			colspan=8 align="center" valign=middle><b>
				<input type="text" id="obsa3" onchange="actRevision()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="20" align="left" valign=middle>
				<font face="Arial Narrow" size= 4color="#000000">Efectuar reparaciones al elemento filtrante según
					recomendación del CIE</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=bottom>
				<select id="rev4" style="width: 70px;" class="ut" onchange="actRevision()">
					<option value=""></option>
					<option value="SI">SI</option>
					<option value="NO">NO</option>
				</select>
			</b></td>
		<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
			colspan=8 align="center" valign=middle><b>
				<input type="text" id="obsa4" onchange="actRevision()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="22" align="left" valign=middle>
				<font face="Arial Narrow" size= 4 color="#000000">Efectuar reparaciones a otros componentes del filtro según
					recomendación CIE</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=bottom>
				<select id="rev5" style="width: 70px;" class="ut" onchange="actRevision()">
					<option value=""></option>
					<option value="SI">SI</option>
					<option value="NO">NO</option>
				</select>
			</b></td>
		<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
			colspan=8 align="center" valign=middle><b>
				<input type="text" id="obsa5" onchange="actRevision()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="22" align="left" valign=middle>
				<font face="Arial Narrow" size= 4 color="#000000">Instalacion del elemento filtrante</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=bottom>
				<select id="rev6" style="width: 70px;" class="ut" onchange="actRevision()">
					<option value=""></option>
					<option value="SI">SI</option>
					<option value="NO">NO</option>
				</select>
			</b></td>
		<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
			colspan=8 align="center" valign=middle><b>
				<input type="text" id="obsa6" onchange="actRevision()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=22 height="22" align="left" valign=middle>
				<font face="Arial Narrow" size= 4 color="#000000">Cerrar bridas con empaque espirotalico nuevo y con la dimesion
					correspondiente y torquear (Ver anexo protocolo de torque)</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=bottom>
				<select id="rev7" style="width: 70px;" class="ut" onchange="actRevision()">
					<option value=""></option>
					<option value="SI">SI</option>
					<option value="NO">NO</option>
				</select>
			</b></td>
		<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
			colspan=8 align="center" valign=middle><b>
				<input type="text" id="obsa7" onchange="actRevision()">
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=34 height="23" align="center" valign=middle bgcolor="#BFBFBF"><b>
					<font face="Arial Narrow" size=" 3">VERIFICACION DEL PROCEDIMIENTO</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=17 height="24" align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">IMÁGENES ANTES DE LA INSPECCIÓN Y/O CAMBIO DE FILTRO</font>
				</b><button type="button" class="btn btn-info btn-sm oculto-impresion" id="btnagregarFotosantes"
				onclick="fotoInicial()">Agregar</button></td>

			<td style="border-top: 1px solid #000000; border-right: 2px solid #000000" colspan=17 align="center"
				valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size="3">IMÁGENES DESPUES DE LA INSPECCIÓN Y/O CAMBIO DE FILTRO</font>
				</b><button type="button" class="btn btn-info btn-sm oculto-impresion" id="btnagregarFotosdespues"
				onclick="fotoFinal()">Agregar</button></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=17 rowspan=4 height="88" align="center" valign=middle><b>
					<span id="galeriainicial"></span>
				</b></td>
			<td style="border-top: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=17 rowspan=4 align="center" valign=middle><b>
					<span id="galeriafinal"></span>
				</b></td>
		</tr>
		<tr>
		</tr>
		<tr>
		</tr>
		<tr>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000"
				colspan=4 height="22" align="center" valign=center><b>
					<font face="Arial Narrow" size="3" color="#000000">RESULTADOS:</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-right: 2px solid #000000"
				colspan=30 align="center" valign=bottom><b>
					<input type="text" id="item1" onchange="actverificacion()">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=34 height="24" align="center" valign=middle bgcolor="#BFBFBF"><b>
					<font face="Arial Narrow" size=3 >CRITERIO DE APROBACION A LA LABOR EFECTUADA</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=34 height="22" align="center" valign=middle><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000; border-right: 1px solid #000000" height="22" align="left"
				valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=18 align="center" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size=3>FUE RECIBIDA Y APROBADA LA REVISION DEL FILTRO SI/NO</font>
				</b></td>
			<td style="border-left: 1px solid #000000; border-right: 1px solid #000000" colspan=3 align="center"
				valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=4 align="center" valign=middle bgcolor="#D9D9D9"><b>
					<select id="item2" style="width: 70px;" class="ut" onchange="actverificacion()">
						<option value=""></option>
						<option value="SI">SI</option>
						<option value="NO">NO</option>
					</select>
				</b></td>
			<td style="border-left: 1px solid #000000" colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
			<td colspan=2 align="center" valign=middle><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
			<td colspan=2 align="center" valign=middle><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
			<td align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
			<td style="border-right: 2px solid #000000" align="center" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000" colspan=33 height="22" align="center" valign=middle
				bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
			<td style="border-right: 2px solid #000000" align="center" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
		</tr>
		<tr>
			 
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=34 align="left" valign=middle bgcolor="#D9D9D9"><b>
					<font face="Arial Narrow" size=3 color="#000000">OBSERVACIONES:</font>
				</b><button type="button" class="btn btn-info btn-sm oculto-impresion" id="btnagregarObs"
				onclick="agregarObs()">Agregar Observación</button>
			<button type="button" class="btn btn-info btn-sm m-1 oculto-impresion" onclick="adjuntar()">Adjuntar
				archivo</button>
			<button type="button" class="btn btn-warning btn-sm m-1 oculto-impresion" onclick="verArchivos()">Ver
				archivos</button></td>
			 
		</tr>





		<tr>

			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=34 align="left" valign=middle>
				<table id="tblobs" style="width: 100%;" class="oculto">
					<tr>
						<td colspan="4">
							<textarea id="obs100" style="width: 100%;" rows="3" class="activo"
								placeholder="Observaciones..."></textarea>
						</td>
					</tr>
					<tr>

						<td>
							<input type="text" id="nombre100" placeholder="Nombre" class="activo">
						</td>

						<td style="width: 200px;">
							<input type="text" id="registro100" placeholder="CC/REGISTRO" class="activo">
						</td>
						<td>
							<button type="button" class="btn btn-info btn-block" id="btnFirmar21"
								onclick="abrirFirma('100')">Firmar</button>
							<img src="" id="firma100" width="130px" height="50px" class="oculto">
						</td>
						<td>

						</td>
					</tr>
				</table>
			</td>

		</tr>
		<tr>

			<td style="border-top: 1px solid #000000; border-bottom: 2px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=34 height="42" align="left" valign=middle bgcolor="#FFFFFF" id="observaciones"><b>
					<font face="Arial Narrow"><br></font>
				</b></td>
		</tr>






		<tr>
			 
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=34 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" color="#000000"><br></font>
				</b></td>
		 
		</tr>
		<tr>
			<td style="border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=34 height="22" align="center" valign=top bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=1 color="#000000"><br></font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=6 height="52" align="center" valign=bottom bgcolor="#BFBFBF">
				<font face="Arial Narrow" color="#000000"><br></font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=6 align="center" valign=middle bgcolor="#BFBFBF"><b>
					<font face="Arial Narrow" size=3>Fecha</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=8 align="center" valign=middle bgcolor="#BFBFBF"><b>
					<font face="Arial Narrow" size=3>Nombre</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=7 align="center" valign=middle bgcolor="#BFBFBF"><b>
					<font face="Arial Narrow" size=3>Cedula/Registro</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=7 align="center" valign=middle bgcolor="#BFBFBF"><b>
					<font face="Arial Narrow" size=3>Firma</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=6 height="51" align="center" valign=middle bgcolor="#BFBFBF"><b>
					<font face="Arial Narrow" size=3>SUPERVISOR UT ITALCO</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=6 align="center" valign=middle><b>
					<input type="date" id="fecha1" class="ut">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=8 align="center" valign=middle><b>
					<input type="text" id="nombre1" class="ut">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=7 align="center" valign=middle><b>
					<input type="text" id="registro1" class="ut">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=7 align="center" valign=middle><b>
					<button type="button" class="btn btn-info btn-block ut oculto-impresion" id="btnFirmar1"
					onclick="abrirFirma('1')">Firmar</button>
				<img src="" id="firma1" width="130px" height="50px" class="oculto">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 2px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=6 height="68" align="center" valign=middle bgcolor="#BFBFBF"><b>
					<font face="Arial Narrow" size=3>INGENIERO DE CONFIABILIDAD ECOPETROL</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 2px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=6 align="center" valign=middle><b>
					<input type="date" id="fecha2" class="ecp">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=8 align="center" valign=middle><b>
					<input type="text" id="nombre2" class="ecp">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=7 align="center" valign=middle><b>
					<input type="text" id="registro2" class="ecp">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=7 align="center" valign=middle><b>
					<button type="button" class="btn btn-info btn-block ecp oculto-impresion" id="btnFirmar2"
					onclick="abrirFirma('2')">Firmar</button>
				<img src="" id="firma2" width="130px" height="50px" class="oculto">
				</b></td>
		</tr>
	</table>
	<!-- Modal -->
	<div class="modal" id="modalFirma" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content" style="width: 600px;">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Firmar Documento</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<center><canvas id="canvas" style="border: 1px solid black;" width="560" height="320"></canvas>
						<br><input type="checkbox" id="poldatos" checked>
						Acepto las <a href="javascript::void(0)" onclick="mostraraviso()">políticas de protección de
							datos personales</a>
					</center>

				</div>
				<div class="modal-footer">

					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
					<button type="button" class="btn btn-danger" id="btnLimpiar">Limpiar</button>
					<button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="pasarFirma()">Pasar a
						documento</button>

				</div>
			</div>
		</div>
	<!-- ************************************************************************** -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

	<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script> -->

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
		integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
		integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
	</script>


	<script>
		function agregarObs() {
			$('#tblobs').removeClass("oculto")
			$('#btnagregarObs').addClass("oculto")
		}

		var imagencargada = null
		var idImagen = null
		var arrayDatosPrueba = []
		var html = ''

		var user = sessionStorage.getItem('usercal')
		var tipouser = sessionStorage.getItem('tipouser')

		if (tipouser == 'ecopetrol') {
			$("input, select,  textarea").prop('disabled', true);
			$('.ecp').prop('disabled', false)
			$('.ut').prop('disabled', true)
			//$("#info input").prop("disabled", true);
		}

		if (tipouser == 'italco') {
			// $("input, select,  textarea").prop('disabled', false);
			$('.ecp').prop('disabled', true)
			// $('.ut').prop('disabled', true)
			//$("#info input").prop("disabled", true);
		}

		$('.activo').prop('disabled', false)

		var items = []
		// Set up the canvas
		var canvas = document.querySelector("#canvas");
		var ctx = canvas.getContext("2d");
		ctx.strokeStyle = "#222222";
		ctx.lineWidth = 2;


		$btnDescargar = document.querySelector("#btnDescargar")
		$btnLimpiar = document.querySelector("#btnLimpiar")
		$btnGenerarDocumento = document.querySelector("#btnGenerarDocumento");



		// Get a regular interval for drawing to the screen
		window.requestAnimFrame = (function (callback) {
			return window.requestAnimationFrame ||
				window.webkitRequestAnimationFrame ||
				window.mozRequestAnimationFrame ||
				window.oRequestAnimationFrame ||
				window.msRequestAnimaitonFrame ||
				function (callback) {
					window.setTimeout(callback, 1000 / 60);
				};
		})();


		const limpiarCanvas = () => {
			// Colocar color blanco en fondo de canvas
			clearCanvas();
		};
		limpiarCanvas();
		$btnLimpiar.onclick = limpiarCanvas;
		// Escuchar clic del botón para descargar el canvas



		window.obtenerImagen = () => {
			return $canvas.toDataURL();
		};


		// Set up mouse events for drawing
		var drawing = false;
		var mousePos = {
			x: 0,
			y: 0
		};
		var lastPos = mousePos;
		canvas.addEventListener("mousedown", function (e) {
			drawing = true;
			lastPos = getMousePos(canvas, e);
		}, false);
		canvas.addEventListener("mouseup", function (e) {
			drawing = false;
		}, false);
		canvas.addEventListener("mousemove", function (e) {
			mousePos = getMousePos(canvas, e);
		}, false);

		// Set up touch events for mobile, etc
		canvas.addEventListener("touchstart", function (e) {
			mousePos = getTouchPos(canvas, e);
			var touch = e.touches[0];
			var mouseEvent = new MouseEvent("mousedown", {
				clientX: touch.clientX,
				clientY: touch.clientY
			});
			canvas.dispatchEvent(mouseEvent);
		}, false);
		canvas.addEventListener("touchend", function (e) {
			var mouseEvent = new MouseEvent("mouseup", {});
			canvas.dispatchEvent(mouseEvent);
		}, false);
		canvas.addEventListener("touchmove", function (e) {
			var touch = e.touches[0];
			var mouseEvent = new MouseEvent("mousemove", {
				clientX: touch.clientX,
				clientY: touch.clientY
			});
			canvas.dispatchEvent(mouseEvent);
		}, false);


		// Prevent scrolling when touching the canvas
		document.body.addEventListener("touchstart", function (e) {
			if (e.target == canvas) {
				e.preventDefault();
			}
		}, {
			passive: false
		});
		document.body.addEventListener("touchend", function (e) {
			if (e.target == canvas) {
				e.preventDefault();
			}
		}, false);
		document.body.addEventListener("touchmove", function (e) {
			if (e.target == canvas) {
				e.preventDefault();
			}
		}, false);

		// Get the position of the mouse relative to the canvas
		function getMousePos(canvasDom, mouseEvent) {
			var rect = canvasDom.getBoundingClientRect();
			return {
				x: mouseEvent.clientX - rect.left,
				y: mouseEvent.clientY - rect.top
			};
		}

		// Get the position of a touch relative to the canvas
		function getTouchPos(canvasDom, touchEvent) {
			var rect = canvasDom.getBoundingClientRect();
			return {
				x: touchEvent.touches[0].clientX - rect.left,
				y: touchEvent.touches[0].clientY - rect.top
			};
		}

		// Draw to the canvas
		function renderCanvas() {
			if (drawing) {
				ctx.moveTo(lastPos.x, lastPos.y);
				ctx.lineTo(mousePos.x, mousePos.y);
				ctx.stroke();
				lastPos = mousePos;
			}
		}

		// Clear the canvas
		function clearCanvas() {
			canvas.width = canvas.width;
		}

		// Allow for animation
		(function drawLoop() {
			requestAnimFrame(drawLoop);
			renderCanvas();
		})();


		function abrirFirma(id) {

			if (id == 100) {
				if ($('#obs100').val() == '' || $('#nombre100').val == "" || $('#registro100').val() == "") {
					Swal.fire({
						position: 'top-end',
						icon: 'info',
						title: 'Por favor registre primero la observación, nombre y registro...',
						showConfirmButton: false,
						timer: 2500
					})
				} else {
					idImagen = id;
					limpiarCanvas()
					var myModal = new bootstrap.Modal(document.getElementById('modalFirma'))
					myModal.show()
				}
			} else {

				if ($('#fecha' + id).val() == "" || $('#hora' + id).val() == "") {
					Swal.fire({
						position: 'top-end',
						icon: 'info',
						title: 'Por favor registre primero fecha y hora...',
						showConfirmButton: false,
						timer: 2500
					})
				} else {
					if ($('#nombre' + id).val() == "" || $('#registro' + id).val() == "") {
						Swal.fire({
							position: 'top-end',
							icon: 'info',
							title: 'Por favor registre primero nombre y registro...',
							showConfirmButton: false,
							timer: 2500
						})
					} else {



						idImagen = id;
						limpiarCanvas()
						var myModal = new bootstrap.Modal(document.getElementById('modalFirma'))
						myModal.show()



					}
				}

			}


		}

		function pasarFirma() {
			if ($('#poldatos').prop('checked')) {
				imagencargada = canvas.toDataURL("image/png");
				//document.querySelector("#firma").src = window.opener.obtenerImagen();
				document.querySelector("#firma" + idImagen).src = canvas.toDataURL("image/png");

				$('#firma' + idImagen).removeClass('oculto')
				$('#btnFirmar' + idImagen).hide()


				if (idImagen == 1 || idImagen == 2) {
					firmasverificacion()
				}

				 


				if (idImagen == 100) {
					guardarObs()
				}


			} else {
				Swal.fire({
					position: 'top-end',
					icon: 'info',
					title: 'Debe aceptar las políticas de protección de datos perasonales',
					showConfirmButton: false,
					timer: 1500
				})
			}


			//document.querySelector("#btnfirmar").style.display = 'none';

		}

		function getParameterByName(name) {
			name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
			var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
				results = regex.exec(location.search);
			return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
		}

		var tag = getParameterByName('tag');
		var arrayDatos = []
		var firmasItems = []
		var arrayInfo = []

		odsq = localStorage.getItem('odsq');
		equipos = sessionStorage.getItem('equipo')
		alcance = sessionStorage.getItem('servicio')
		esp = sessionStorage.getItem('esp')


		var server = 'https://utitalco.com/calidad/028/server/';

		$.post(server + 'cargarRca96.php', {
				ods: odsq,
				tag: tag
			},
			function (resp) {
				arrayDatos = resp
				cargarDatos()
			})

		function cargarDatos() {
			$('#esp').html(arrayDatos.especialidad)
			$('#tag').html(arrayDatos.tag)


			if(arrayDatos.info != ""){
			  
				arrayDatosInfor = JSON.parse(arrayDatos.info)

				$('#fecha').val(arrayDatosInfor[0].fecha)
				$('#equipo').val(arrayDatosInfor[0].equipo)
				$('#reporte').val(arrayDatosInfor[0].reporte)
				$('#nombre').val(arrayDatosInfor[0].nombre)
			  
			}

			if(arrayDatos.datocriterio != ""){
			  
			  arrayDatosInfor = JSON.parse(arrayDatos.datocriterio)

			  $('#item1').val(arrayDatosInfor[0].item1)
			  $('#item2').val(arrayDatosInfor[0].item2)
			 
			
		  }

			if(arrayDatos.datospreliminares != ""){
                arrayItems = JSON.parse(arrayDatos.datospreliminares)
                for(var i=0; i<= 3; i++){
                    b=i+1;
                     $('#preli'+b).val(arrayItems[i].preli)
					 $('#obs'+b).val(arrayItems[i].obs)
                }
            }

			if(arrayDatos.datosrevision != ""){
                arrayItems = JSON.parse(arrayDatos.datosrevision)
                for(var i=0; i<= 6; i++){
                    b=i+1;
                     $('#rev'+b).val(arrayItems[i].rev)
					 $('#obsa'+b).val(arrayItems[i].obsa)
                }
            }
 

			if(arrayDatos.fotoInicial != ""){
				listaFotosInicial = JSON.parse(arrayDatos.fotoinicial)
				cargarGaleriaInicial()
			}

			if(arrayDatos.fotofinal != ""){
				listaFotosFinal = JSON.parse(arrayDatos.fotofinal)
				cargarGaleriaFinal()
			}


			if (arrayDatos.firmas != "") {
				var arrayFirmasItems = JSON.parse(arrayDatos.firmas)

				//ecp

				$('#fecha2').val(arrayFirmasItems[0].fechaec)
				$('#hora2').val(arrayFirmasItems[0].horaec)
				$('#nombre2').val(arrayFirmasItems[0].nombreec)

				if (arrayFirmasItems[0].fechaec != "") {
					document.querySelector("#firma2").src = arrayFirmasItems[0].firmaec;
					$('#firma2').removeClass('oculto')
					$('#btnFirmar2').hide()
				}

				$('#registro2').val(arrayFirmasItems[0].registroec)

				//ut

				$('#fecha1').val(arrayFirmasItems[0].fechaut)
				$('#hora1').val(arrayFirmasItems[0].horaut)
				$('#nombre1').val(arrayFirmasItems[0].nombreut)

				if (arrayFirmasItems[0].fechaut != "") {
					document.querySelector("#firma1").src = arrayFirmasItems[0].firmaut;
					$('#firma1').removeClass('oculto')
					$('#btnFirmar1').hide()
				}

				$('#registro1').val(arrayFirmasItems[0].registrout)
			}

			 

			 
			//CARGUE DE OBSERVACIONES

			if (arrayDatos.observaciones != "") {
				var arrayObs = JSON.parse(arrayDatos.observaciones)
				var html = ''
				for (var i = 0; i < arrayObs.length; i++) {
					html = `<b>Nota ${i+1}: </b>
				${arrayObs[i].obs} | ${arrayObs[i].nombre} | Registro: ${arrayObs[i].registro} | Fecha: ${arrayObs[i].fecha} | Firma: <span id="firm${i}" style="width: 60px;"></span> <br>--------------------------------------------------------------------------------------------------------------------------------------------------------------------<br>
				`
					$('#observaciones').append(html)
					const imagef = document.createElement('img')
					imagef.src = arrayObs[i].firma
					imagef.height = "60"
					document.querySelector('#firm' + i).appendChild(imagef)

				}
			}
			if (arrayDatos.doc != "") {
				listaArchivos = JSON.parse(arrayDatos.doc)

			}

			Swal.close()


		}


		//actualiza informacion

		function actInfo(){
            var fecha = $('#fecha').val()
            var equipo = $('#equipo').val()
            var reporte = $('#reporte').val()
            var nombre = $('#nombre').val()
			 

            var arrayInfo = []

            arrayInfo.push({
                "fecha":fecha,
                "equipo":equipo,
                "reporte":reporte,
                "nombre":nombre
            })

            $.post(server + 'act96info.php', {
                    ods: odsq,
                    tag: tag,
                    datos: JSON.stringify(arrayInfo)
                },
                function (res) {
                        Swal.fire({
                            position: 'top-end',
                            icon: 'success',
                            width: 100,
                            showConfirmButton: false,
                            timer: 1500
                        })
                })

        }

		function actverificacion(){
            var item1 = $('#item1').val()
            var item2 = $('#item2').val()
         		 

            var arrayInfo = []

            arrayInfo.push({
                "item1":item1,
                "item2":item2
            })

            $.post(server + 'act96infoVeri.php', {
                    ods: odsq,
                    tag: tag,
                    datos: JSON.stringify(arrayInfo)
                },
                function (res) {
                        Swal.fire({
                            position: 'top-end',
                            icon: 'success',
                            width: 100,
                            showConfirmButton: false,
                            timer: 1500
                        })
                })

        }

		function actPreliminares(){

            var arrayItems = []

                for(var i=1; i<=4; i++){
                    var preli = $('#preli'+i).val()
					var obs = $('#obs'+i).val()
				 
                    arrayItems.push({
                        'preli':preli,
						'obs':obs
                    });
                }

                $.post(server + 'act96ItemsPre.php', {
                    ods: odsq,
                    tag: tag,
                    datos: JSON.stringify(arrayItems)
                },
                function (res) {
                        Swal.fire({
                            position: 'top-end',
                            icon: 'success',
                            width: 100,
                            showConfirmButton: false,
                            timer: 1500
                        })
                })
        }

		function actRevision(){

            var arrayItems = []

                for(var i=1; i<=7; i++){
                    var rev = $('#rev'+i).val()
					var obsa = $('#obsa'+i).val()
				 
                    arrayItems.push({
                        'rev':rev,
						'obsa':obsa
                    });
                }

                $.post(server + 'act96ItemsRev.php', {
                    ods: odsq,
                    tag: tag,
                    datos: JSON.stringify(arrayItems)
                },
                function (res) {
                        Swal.fire({
                            position: 'top-end',
                            icon: 'success',
                            width: 100,
                            showConfirmButton: false,
                            timer: 1500
                        })
                })
        }


			
		 
		 
		function firmasverificacion() {

			var fechaec = $('#fecha2').val()
			var horaec = $('#hora2').val()
			var nombreec = $('#nombre2').val()

			var img = document.getElementById("firma2");
			var firmaec = img.src

			if (fechaec == '') {
				firmaec = ''
			}

			var registroec = $('#registro2').val()

			var fechaut = $('#fecha1').val()
			var horaut = $('#hora1').val()
			var nombreut = $('#nombre1').val()

			var img = document.getElementById("firma1");
			var firmaut = img.src

			if (fechaut == '') {
				firmaut = ''
			}

			var registrout = $('#registro1').val()

			var arrayFirmasItems = []

			arrayFirmasItems.push({
				'fechaec': fechaec,
				'horaec': horaec,
				'nombreec': nombreec,
				'firmaec': firmaec,
				'registroec': registroec,
				'fechaut': fechaut,
				'horaut': horaut,
				'nombreut': nombreut,
				'firmaut': firmaut,
				'registrout': registrout,
			})

			$.post(server + 'act96Firmas.php', {
					ods: odsq,
					tag: tag,
					datos: JSON.stringify(arrayFirmasItems)
				},
				function (res) {
					Swal.fire({
						position: 'top-end',
						icon: 'success',
						width: 100,
						showConfirmButton: false,
						timer: 1500
					})
				})

		}

	 

		function mostraraviso() {
			let timerInterval
			Swal.fire({
				title: 'Políticas de protección de datos personales',
				text: 'En cumplimiento con la Ley 1581 de protección de datos personales, se le informa que los datos suministrados serán incorporados a una base de datos cuya finalidad es el registro de control de actividades RCA y las actuaciones que se deriven de dicha gestión, cuyo responsable del tratamiento es UT ITALCO. Mediante el registro de sus datos  a través de este formato usted autoriza a UT ITALCO, a tratar los datos con la finalidad descrita arriba.  Como Titular se le informa que podrá ejercer sus derechos de acceso y reclamos a través del correo de contacto pqrsbca@utitalco.com.',
				timer: 20000,
				timerProgressBar: true,
				didOpen: () => {
					Swal.showLoading()
					const b = Swal.getHtmlContainer().querySelector('b')
					timerInterval = setInterval(() => {
						b.textContent = Swal.getTimerLeft()
					}, 100)
				},
				willClose: () => {
					clearInterval(timerInterval)
				}
			}).then((result) => {
				/* Read more about handling dismissals below */
				if (result.dismiss === Swal.DismissReason.timer) {
					console.log('I was closed by the timer')
				}
			})
		}

		function cargando() {
			let timerInterval
			Swal.fire({
				title: 'Cargando formato...!',
				timer: 20000,
				timerProgressBar: true,
				didOpen: () => {
					Swal.showLoading()
					const b = Swal.getHtmlContainer().querySelector('b')
					timerInterval = setInterval(() => {
						// b.textContent = Swal.getTimerLeft()
					}, 100)
				},
				willClose: () => {
					clearInterval(timerInterval)
				}
			}).then((result) => {
				/* Read more about handling dismissals below */
				if (result.dismiss === Swal.DismissReason.timer) {
					console.log('I was closed by the timer')
				}
			})
		}

		function verArchivos() {
			var htmltexto = ''
			for (var i = 0; i < listaArchivos.length; i++) {
				htmltexto += `
				<a href='https://utitalco.com/calidad/028/server/archivos/${listaArchivos[i].archivo}' target='_blank'>${listaArchivos[i].archivo}</a> <br>
			`
			}

			Swal.fire({
				title: '<strong>Lista de adjuntos</strong>',
				icon: 'info',
				html: `
			Pulse click sobre el archivo que desea descargar... <br>
			${htmltexto}
			`

			})
		}

		function adjuntar() {
			Swal.fire({
				title: 'Adjuntar archivo',
				html: `
			<input type="file" id="archivo" class="form-control" placeholder="Buscar...">
			`,
				showCancelButton: true,
				confirmButtonText: 'Adjuntar'
			}).then((result) => {
				/* Read more about isConfirmed, isDenied below */
				if (result.isConfirmed) {

					var formData = new FormData();
					var files = $('#archivo')[0].files[0];
					formData.append('archivo', files);
					formData.append('ods', odsq);
					formData.append('tag', tag);
					$.ajax({
						url: server + 'guardarArchivo96.php',
						type: 'post',
						data: formData,
						contentType: false,
						processData: false,
						success: function (response) {
							console.log(response)

							if (response.msn == "Ok") {
								Swal.fire({
									position: 'top-end',
									icon: 'success',
									title: 'Archivo cargado correctamente...',
									showConfirmButton: false,
									timer: 1500
								}).then(() => {

									location.reload();
								})
							} else {
								Swal.fire({
									icon: 'error',
									title: 'Oops...',
									text: 'Formato de archivo incorrecto...!',
								})
							}
						}
					});

				}
			})
		}

	
		
		function guardarObs() {
			var observacion = $('#obs100').val()
			var nombreobs = $('#nombre100').val()
			var registroobs = $('#registro100').val()
			var img = document.getElementById("firma100");

			// crea un nuevo objeto `Date`
			var today = new Date();

			// obtener la fecha y la hora
			var now = today.toLocaleString();
			var firmaobs = img.src

			if (arrayDatos.observaciones != "") {

				var arrayLmp = JSON.parse(arrayDatos.observaciones)
			} else {
				var arrayLmp = []
			}



			arrayLmp.push({
				"obs": observacion,
				"nombre": nombreobs,
				"registro": registroobs,
				"firma": firmaobs,
				"fecha": now
			})


			$.post(server + 'actOs96Obs.php', {
					ods: odsq,
					tag: tag,
					datos: JSON.stringify(arrayLmp)
				},
				function (res) {
					console.log(res)
					location.reload()
				})

		}


		function fotoInicial() {
			Swal.fire({
				title: 'Adjuntar Foto Inicial',
				html: `
			<input type="file" id="fotoinicial" class="form-control" placeholder="Buscar...">
			`,
				showCancelButton: true,
				confirmButtonText: 'Adjuntar'
			}).then((result) => {
				/* Read more about isConfirmed, isDenied below */
				if (result.isConfirmed) {

					var formData = new FormData();
					var files = $('#fotoinicial')[0].files[0];
					formData.append('archivo', files);
					formData.append('ods', odsq);
					formData.append('tag', tag);
					$.ajax({
						url: server + 'guardarFotoInicial96.php',
						type: 'post',
						data: formData,
						contentType: false,
						processData: false,
						success: function (response) {
							console.log(response)

							if (response.msn == "Ok") {
								Swal.fire({
									position: 'top-end',
									icon: 'success',
									title: 'Foto cargada correctamente...',
									showConfirmButton: false,
									timer: 1500
								}).then(() => {

									location.reload();
								})
							} else {
								Swal.fire({
									icon: 'error',
									title: 'Oops...',
									text: 'Formato de archivo incorrecto...!',
								})
							}
						}
					});

				}
			})
		}

		function fotoFinal() {
			Swal.fire({
				title: 'Adjuntar Foto Final',
				html: `
			<input type="file" id="fotofinal" class="form-control" placeholder="Buscar...">
			`,
				showCancelButton: true,
				confirmButtonText: 'Adjuntar'
			}).then((result) => {
				/* Read more about isConfirmed, isDenied below */
				if (result.isConfirmed) {

					var formData = new FormData();
					var files = $('#fotofinal')[0].files[0];
					formData.append('archivo', files);
					formData.append('ods', odsq);
					formData.append('tag', tag);
					$.ajax({
						url: server + 'guardarFotoFinal96.php',
						type: 'post',
						data: formData,
						contentType: false,
						processData: false,
						success: function (response) {
							console.log(response)

							if (response.msn == "Ok") {
								Swal.fire({
									position: 'top-end',
									icon: 'success',
									title: 'Foto cargada correctamente...',
									showConfirmButton: false,
									timer: 1500
								}).then(() => {

									location.reload();
								})
							} else {
								Swal.fire({
									icon: 'error',
									title: 'Oops...',
									text: 'Formato de archivo incorrecto...!',
								})
							}
						}
					});

				}
			})
		}

		
		
		function cargarGaleriaInicial(){
			var html = ''
			for(var i=0; i<listaFotosInicial.length; i++){
				html += `
				<a href="https://utitalco.com/calidad/028/server/archivos/${listaFotosInicial[i].archivo}" target="_blank" rel="noopener noreferrer">
						<img src="https://utitalco.com/calidad/028/server/archivos/${listaFotosInicial[i].archivo}" width="280px"  style="margin: 10px; border-radius: 10px;" >
					</a>
				`
					$('#galeriainicial').html(html)
			}

		

		}

		function cargarGaleriaFinal(){
			

			var html = ''
			for(var i=0; i<listaFotosFinal.length; i++){
				html += `
				<a href="https://utitalco.com/calidad/028/server/archivos/${listaFotosFinal[i].archivo}" target="_blank" rel="noopener noreferrer">
						<img src="https://utitalco.com/calidad/028/server/archivos/${listaFotosFinal[i].archivo}" width="280px"  style="margin: 10px; border-radius: 10px;" >
					</a>
				`
					$('#galeriafinal').html(html)
			}

		}

	
	
	
	</script>
</body>

</html>