<!DOCTYPE html>

<html>

<head>

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title></title>
	<meta name="generator" content="LibreOffice 7.3.6.2 (Linux)" />
	<meta name="author" content="angelica maria gomez" />
	<meta name="created" content="2004-08-07T18:47:37" />
	<meta name="changedby" content="01AC0479" />
	<meta name="changed" content="2022-10-19T04:00:49" />

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


	<style type="text/css">
		body,
		div,
		table,
		thead,
		tbody,
		tfoot,
		tr,
		th,
		td,
		p {
			font-family: "Calibri";
			font-size: x-small
		}

		a.comment-indicator:hover+comment {
			background: #ffd;
			position: absolute;
			display: block;
			border: 1px solid black;
			padding: 0.5em;
		}

		a.comment-indicator {
			background: red;
			display: inline-block;
			border: 1px solid black;
			width: 0.5em;
			height: 0.5em;
		}

		comment {
			display: none;
		}
	</style>

	<style>
		@media print {

			.oculto-impresion,
			.oculto-impresion * {
				display: none !important;
			}
		}

		.salto {
			PAGE-BREAK-AFTER: always;
		}

		.mispan {
			font-size: 16px;
		}

		textarea {
			font-size: 18px;
		}

		input[type=text] {
			width: 100%;
			padding: 12px;
			margin: 8px 0;
			border: 0;
			box-sizing: border-box;
			font-size: 18px;

		}

		.lineabaja {
			border-bottom-style: solid;
			border-bottom-width: 1px;
		}

		input[type=date] {
			width: 100%;
			padding: 12px;
			margin: 8px 0;
			border: 0;
			box-sizing: border-box;
			font-size: 18px;
		}

		input[type=time] {
			width: 100%;
			padding: 12px;
			margin: 8px 0;
			border: 0;
			box-sizing: border-box;
			font-size: 18px;
		}

		input[type=radio] {
			height: 20px;
			width: 20px;
		}

		select {
			background: transparent;
			border: none;
			font-size: 18px;
			height: 30px;
			padding: 5px;
			width: 250px;
		}

		.oculto {
			display: none;
		}

		.visible {
			display: inline;
		}

		.cuerpo {
			margin: 0 auto;
		}
	</style>


</head>

<body>
	<table cellspacing="0" border="0" style="margin: 0 auto; margin-top: 10px; width: 90%;">
		<colgroup width="96"></colgroup>
		<colgroup width="116"></colgroup>
		<colgroup width="158"></colgroup>
		<colgroup width="59"></colgroup>
		<colgroup width="75"></colgroup>
		<colgroup width="45"></colgroup>
		<colgroup width="92"></colgroup>
		<colgroup width="94"></colgroup>
		<colgroup width="83"></colgroup>
		<colgroup width="84"></colgroup>
		<colgroup width="76"></colgroup>
		<colgroup width="87"></colgroup>
		<colgroup width="96"></colgroup>
		<colgroup width="91"></colgroup>
		<tr>
			<td style="border-top: 2px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 rowspan=3 height="100" align="center"><b>
					<font face="Arial Narrow" size=3 color="#000000"><img
							src="logo_m.png" width="250px"
					</font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 1px solid #000000" colspan=8 rowspan=3
				align="center" valign=middle><b>
					<font face="Arial Narrow" size=4 color="#000000">REGISTRO CONTROL DE ACTIVIDAES CALIBRACIÓN PLÁTINAS
						DE ORIFICIO</font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=3 align="center" valign=middle><b>
					<font face="Arial Narrow" size=3 color="#000000">FRM-BCA-19.370.3.OS83</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=3 align="center" valign=middle><b>
					<font face="Arial Narrow" size=3 color="#000000">Fecha: 20/02/2020</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=3 align="center" valign=middle><b>
					<font face="Arial Narrow" size=3 color="#000000">Versión: 0</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=14 height="33" align="center" valign=middle bgcolor="#969696"><b>
					<font face="Arial Narrow" size=4>INFORMACIÓN GENERAL</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=2 height="40" align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>CONTRATO:</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				align="center">
				<font face="Arial Narrow" size=3><span id="contrato"></span></font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>UNIDAD:</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle><b>
					<font face="Arial Narrow" size=3><span id="unidad"></span></font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>PLANTA: </font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle><b>
					<font face="Arial Narrow" size=3><span id="planta"></span></font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3> ORDEN DE SERVICIO: </font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle><b>
					<font face="Arial Narrow" size=3 color="#000000"><span id="ods"></span></font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=14 height="2" align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow"><br></font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=2 height="40" align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>FAMILIA DE EQUIPO:</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=5 align="center" valign=middle>
				<font face="Arial Narrow" size=3><span id="familia"></span></font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>TAG:</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle><b>
					<font face="Arial Narrow" size=6><span id="tag"></span></font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>SERIE:</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center">
				<input type="text" id="serie" onchange="actInfo()">
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=14 height="5" align="center" valign=middle bgcolor="#FFFFFF">
				<font face="Arial Narrow"><br></font>
			</td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000" height="40" align="right" valign=middle bgcolor="#FFFFFF">
				<font face="Arial Narrow" size=3>FECHA: </font>
			</td>
			<td colspan=5 align="center" valign=middle bgcolor="#FFFFFF">
				<input type="date" id="fecha" onchange="actInfo()">
			</td>
			<td align="right" valign=middle bgcolor="#FFFFFF">
				<font face="Arial Narrow" size=3>MATERIAL:</font>
			</td>
			<td style="border-right: 2px solid #000000" colspan=7 align="center" valign=middle bgcolor="#FFFFFF">
				<input type="text" id="material" onchange="actInfo()">
			</td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000" height="40" align="right" valign=middle bgcolor="#FFFFFF">
				<font face="Arial Narrow" size=3>SERVICIO: </font>
			</td>
			<td colspan=5 align="center" valign=middle bgcolor="#FFFFFF">
				<input type="text" id="servicio" onchange="actInfo()">
			</td>
			<td align="right" valign=middle bgcolor="#FFFFFF">
				<font face="Arial Narrow" size=3>RATING:</font>
			</td>
			<td style="border-right: 2px solid #000000" colspan=7 align="center" valign=middle bgcolor="#FFFFFF">
				<input type="text" id="rating" onchange="actInfo()">
			</td>
		</tr>
		<tr>
			<td style="border-bottom: 1px solid #000000; border-left: 2px solid #000000" colspan=2 height="40"
				align="center" valign=middle bgcolor="#FFFFFF">
				<font face="Arial Narrow" size=3>TIPO DE PLÁTINA DE ORIFICIO:</font>
			</td>
			<td style="border-bottom: 1px solid #000000; border-right: 2px solid #000000" colspan=12 align="center"
				valign=middle bgcolor="#FFFFFF">
				<input type="text" id="tipoplatina" onchange="actInfo()">
			</td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000; border-right: 2px solid #000000" colspan=14 height="9"
				align="center" valign=middle bgcolor="#FFFFFF">
				<font face="Arial Narrow"><br></font>
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=14 height="33" align="center" valign=middle bgcolor="#969696"><b>
					<font face="Arial Narrow" size=4>1. EQUIPOS DE PRUEBA:</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=14 height="3" align="center" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=7 height="22" align="left" valign=middle><b>
					<font face="Arial Narrow" size=3>No. CERTIFICADO DE CALIBRACIÓN VIGENTE:</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=7 align="left" valign=middle><b>
					<font face="Arial Narrow" size=3>FECHA DE CALIBRACIÓN:</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=7 height="40" align="center" valign=middle>
				<input type="text" id="certificado" onchange="actEquipos()">
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=7 align="center" valign=middle>
				<input type="date" id="fechacal" onchange="actEquipos()">
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=14 height="3" align="center" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow"><br></font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=14 height="33" align="center" valign=middle bgcolor="#969696"><b>
					<font face="Arial Narrow" size=4>2. VERIFICACION DE DATOS </font>
				</b></td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000" height="4" align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
			<td style="border-right: 2px solid #000000" align="left" valign=middle>
				<font face="Arial Narrow" size=1><br></font>
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-left: 2px solid #000000" height="53" align="left">
				<font face="Arial Narrow"><br></font>
			</td>
			<td style="border-top: 1px solid #000000" align="left" valign=middle bgcolor="#FFFFFF">
				<font face="Arial Narrow"><br></font>
			</td>
			<td style="border-top: 1px solid #000000" align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td style="border-top: 1px solid #000000" align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td style="border-top: 1px solid #000000" align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td style="border-top: 2px solid #000000; border-bottom: 2px solid #000000; border-left: 2px solid #000000"
				colspan=3 align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>DESCRIPCION</font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 2px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>HOJA DE DATOS</font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 2px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>MEDIDAS</font>
				</b></td>
			<td style="border-top: 2px solid #000000; border-bottom: 2px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3>ERROR</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000" height="60" align="left">
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td style="border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Espesor de la platina ( T) </font>
				</b></td>
			<td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos1" onchange="actDatos()">
				</b></td>
			<td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas1" onchange="actDatos()">
				</b></td>
			<td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error1" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000" colspan=5 rowspan=7 height="420" align="left">
				<font face="Arial Narrow"><br><img src="img\Imagen1 Verificacion de datos OS83.png"
				</font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Longitud del brazo (Y) </font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos2" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas2" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error2" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Ancho del brazo (E)</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos3" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas3" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error3" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Diámetro externo (A)</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos4" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas4" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error4" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Diámetro interno (d)</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos5" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas5" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error5" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Espesor del braso (r)</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos6" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas6" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error6" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Diametro del venteo o drenaje (c)</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos7" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas7" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error7" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Espesor del borde interno (t)</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos8" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas8" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error8" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000" height="60" align="left">
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Distancia entre centro de platina y centro de venteo o drenaje (J)
					</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos9" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas9" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error9" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000" height="60" align="left">
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="left" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>BETA (d/b)</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos10" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas10" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error10" onchange="actDatos()">
			</td>
		</tr>
		<tr>
			<td style="border-left: 2px solid #000000" height="60" align="left">
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="left" valign=middle bgcolor="#FFFFFF">
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td align="justify" valign=middle>
				<font face="Arial Narrow"><br></font>
			</td>
			<td style="border-top: 1px solid #000000; border-bottom: 2px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				colspan=3 align="left" valign=middle bgcolor="#FFFFFF"><b>
					<font face="Arial Narrow" size=3>Tomar dos lecturas a 90º</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 2px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="hojadatos11" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 2px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#FFFFFF"><b>
					<input type="text" id="medidas11" onchange="actDatos()">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 2px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				colspan=2 align="center" valign=middle>
				<input type="text" id="error11" onchange="actDatos()">
			</td>
		</tr>
			<td style="border-top: 2px solid #000000;"
			colspan=5 align="center" valign=middle>
			</td>
		<tr>
			<td style=" border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				height="42" align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000">Fecha</font>
				</b></td>
			<td style=" border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000">Hora</font>
				</b></td>
			<td style=" border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000" align="center" valign=middle
				bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000">Nombre supervisor <br>UT ITALCO</font>
				</b></td>
			<td style=" border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000" colspan=3 align="center"
				valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000"> Firma supervisor<br>UT ITALCO</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000">Registro/CC</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000">Fecha</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000">Hora</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000">Nombre Ing procesos<br> ECOPETROL</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000">Firma Ing procesos <br>ECOPETROL</font>
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				align="center" valign=middle bgcolor="#C0C0C0"><b>
					<font face="Arial Narrow" size=3 color="#000000">Registro/CC</font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 1px solid #000000"
				height="53" align="left" valign=middle><b>
					<input type="date" id="fecha1" class="ut">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				align="left" valign=middle><b>
					<input type="time" id="hora1" class="ut">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000" align="center" valign=middle><b>
				<input type="text" id="nombre1" class="ut">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000"
				colspan=3 align="center" valign=middle><b>
					<button type="button" class="btn btn-info btn-block ut oculto-impresion" id="btnFirmar1"
						onclick="abrirFirma('1')">Firmar</button>
					<img src="" id="firma1" width="130px" height="50px" class="oculto">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000"
				align="left" valign=middle><b>
					<input type="text" id="registro1" class="ut">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000"
				align="left" valign=middle><b>
					<input type="date" id="fecha2" class="ecp">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				align="left" valign=middle><b>
					<input type="time" id="hora2" class="ecp">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000" colspan=2 align="center"
				valign=middle><b>
					<input type="text" id="nombre2" class="ecp">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=2 align="center" valign=middle><b>
					<button type="button" class="btn btn-info btn-block ecp oculto-impresion" id="btnFirmar2"
					onclick="abrirFirma('2')">Firmar</button>
				<img src="" id="firma2" width="130px" height="50px" class="oculto">
				</b></td>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 2px solid #000000"
				align="left" valign=middle><b>
					<input type="text" id="registro2" class="ecp">
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=14 height="38" align="left" valign=center><b>
					<font face="Arial Narrow">OBSERVACIONES:</font>
				</b><button type="button" class="btn btn-info btn-sm oculto-impresion" id="btnagregarObs"
				onclick="agregarObs()">Agregar Observación</button>
				<button type="button" class="btn btn-info btn-sm m-1 oculto-impresion" onclick="adjuntar()">Adjuntar
					archivo</button>
				<button type="button" class="btn btn-warning btn-sm m-1 oculto-impresion" onclick="verArchivos()">Ver
					archivos</button></td>
		</tr>
		<tr>
				
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
			colspan=14 align="left" valign=middle >
			<table id="tblobs" style="width: 100%;" class="oculto">
				<tr>
					<td colspan="4">
						<textarea id="obs100" style="width: 100%;" rows="3" class="activo"
							placeholder="Observaciones..."></textarea>
					</td>
				</tr>
				<tr>

					<td>
						<input type="text" id="nombre100" placeholder="Nombre" class="activo">
					</td>

					<td style="width: 200px;">
						<input type="text" id="registro100" placeholder="CC/REGISTRO" class="activo">
					</td>
					<td>
						<button type="button" class="btn btn-info btn-block" id="btnFirmar21"
							onclick="abrirFirma('100')">Firmar</button>
						<img src="" id="firma100" width="130px" height="50px" class="oculto">
					</td>
					<td>

					</td>
				</tr>
			</table></td>

		</tr>
		<tr>
			
			<td style="border-top: 1px solid #000000; border-bottom: 2px solid #000000; border-left: 2px solid #000000; border-right: 2px solid #000000"
				colspan=14 height="42" align="left" valign=middle bgcolor="#FFFFFF"  id="observaciones"><b>
					<font face="Arial Narrow"><br></font>
				</b></td>
		</tr>
		<tr>
			<td style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000"
				colspan=14 height="38" align="center" valign=top><b>
					<font face="Arial Narrow"><br></font>
				</b></td>
		</tr>
		<tr>
			<td colspan=14 height="22" align="center">
				<font face="Arial Narrow">Documento emitido por el Servicio de Calidad de la Compañía. El documento es
					propiedad de UT ITALCO. La empresa protegerá sus propios derechos en los tribunales civiles y
					penales de acuerdo con la ley.</font>
			</td>
		</tr>
		<tr>
			<td colspan=14 rowspan=2 height="36" align="center"><b>
					<font face="Arial Narrow">** Fin del formato **</font>
				</b></td>
		</tr>
	</table>

	<!-- Modal -->
	<div class="modal" id="modalFirma" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" style="width: 600px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Firmar Documento</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <center><canvas id="canvas" style="border: 1px solid black;" width="560" height="320"></canvas>
                        <br><input type="checkbox" id="poldatos" checked>
                        Acepto las <a href="javascript::void(0)" onclick="mostraraviso()">políticas de protección de
                            datos personales</a>
                    </center>

                </div>
                <div class="modal-footer">

                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger" id="btnLimpiar">Limpiar</button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="pasarFirma()">Pasar a
                        documento</button>

                </div>
            </div>
        </div>

	<!-- ************************************************************************** -->

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
	integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
	integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
</script>


<script>



	function agregarObs() {
		$('#tblobs').removeClass("oculto")
		$('#btnagregarObs').addClass("oculto")
	}

	var imagencargada = null
	var idImagen = null

	var user = sessionStorage.getItem('usercal')
	var tipouser = sessionStorage.getItem('tipouser')

	if (tipouser == 'ecopetrol') {
		$("input, select,  textarea").prop('disabled', true);
		$('.ecp').prop('disabled', false)
		$('.ut').prop('disabled', true)
		//$("#info input").prop("disabled", true);
	}

	if (tipouser == 'italco') {
		// $("input, select,  textarea").prop('disabled', false);
		$('.ecp').prop('disabled', true)
		// $('.ut').prop('disabled', true)
		//$("#info input").prop("disabled", true);
	}

	$('.activo').prop('disabled', false)

	var items = []
// Set up the canvas
var canvas = document.querySelector("#canvas");
	var ctx = canvas.getContext("2d");
	ctx.strokeStyle = "#222222";
	ctx.lineWidth = 2;


	$btnDescargar = document.querySelector("#btnDescargar")
	$btnLimpiar = document.querySelector("#btnLimpiar")
	$btnGenerarDocumento = document.querySelector("#btnGenerarDocumento");



	// Get a regular interval for drawing to the screen
	window.requestAnimFrame = (function (callback) {
		return window.requestAnimationFrame ||
			window.webkitRequestAnimationFrame ||
			window.mozRequestAnimationFrame ||
			window.oRequestAnimationFrame ||
			window.msRequestAnimaitonFrame ||
			function (callback) {
				window.setTimeout(callback, 1000 / 60);
			};
	})();


	const limpiarCanvas = () => {
		// Colocar color blanco en fondo de canvas
		clearCanvas();
	};
	limpiarCanvas();
	$btnLimpiar.onclick = limpiarCanvas;
	// Escuchar clic del botón para descargar el canvas



	window.obtenerImagen = () => {
		return $canvas.toDataURL();
	};


	// Set up mouse events for drawing
	var drawing = false;
	var mousePos = {
		x: 0,
		y: 0
	};
	var lastPos = mousePos;
	canvas.addEventListener("mousedown", function (e) {
		drawing = true;
		lastPos = getMousePos(canvas, e);
	}, false);
	canvas.addEventListener("mouseup", function (e) {
		drawing = false;
	}, false);
	canvas.addEventListener("mousemove", function (e) {
		mousePos = getMousePos(canvas, e);
	}, false);

	// Set up touch events for mobile, etc
	canvas.addEventListener("touchstart", function (e) {
		mousePos = getTouchPos(canvas, e);
		var touch = e.touches[0];
		var mouseEvent = new MouseEvent("mousedown", {
			clientX: touch.clientX,
			clientY: touch.clientY
		});
		canvas.dispatchEvent(mouseEvent);
	}, false);
	canvas.addEventListener("touchend", function (e) {
		var mouseEvent = new MouseEvent("mouseup", {});
		canvas.dispatchEvent(mouseEvent);
	}, false);
	canvas.addEventListener("touchmove", function (e) {
		var touch = e.touches[0];
		var mouseEvent = new MouseEvent("mousemove", {
			clientX: touch.clientX,
			clientY: touch.clientY
		});
		canvas.dispatchEvent(mouseEvent);
	}, false);


	// Prevent scrolling when touching the canvas
	document.body.addEventListener("touchstart", function (e) {
		if (e.target == canvas) {
			e.preventDefault();
		}
	}, {
		passive: false
	});
	document.body.addEventListener("touchend", function (e) {
		if (e.target == canvas) {
			e.preventDefault();
		}
	}, false);
	document.body.addEventListener("touchmove", function (e) {
		if (e.target == canvas) {
			e.preventDefault();
		}
	}, false);

	// Get the position of the mouse relative to the canvas
	function getMousePos(canvasDom, mouseEvent) {
		var rect = canvasDom.getBoundingClientRect();
		return {
			x: mouseEvent.clientX - rect.left,
			y: mouseEvent.clientY - rect.top
		};
	}

	// Get the position of a touch relative to the canvas
	function getTouchPos(canvasDom, touchEvent) {
		var rect = canvasDom.getBoundingClientRect();
		return {
			x: touchEvent.touches[0].clientX - rect.left,
			y: touchEvent.touches[0].clientY - rect.top
		};
	}

	// Draw to the canvas
	function renderCanvas() {
		if (drawing) {
			ctx.moveTo(lastPos.x, lastPos.y);
			ctx.lineTo(mousePos.x, mousePos.y);
			ctx.stroke();
			lastPos = mousePos;
		}
	}

	// Clear the canvas
	function clearCanvas() {
		canvas.width = canvas.width;
	}

	// Allow for animation
	(function drawLoop() {
		requestAnimFrame(drawLoop);
		renderCanvas();
	})();


	function abrirFirma(id) {

		if (id == 100) {
			if ($('#obs100').val() == '' || $('#nombre100').val == "" || $('#registro100').val() == "") {
				Swal.fire({
					position: 'top-end',
					icon: 'info',
					title: 'Por favor registre primero la observación, nombre y registro...',
					showConfirmButton: false,
					timer: 2500
				})
			} else {
				idImagen = id;
				limpiarCanvas()
				var myModal = new bootstrap.Modal(document.getElementById('modalFirma'))
				myModal.show()
			}
		} else {

			if ($('#fecha' + id).val() == "" || $('#hora' + id).val() == "") {
				Swal.fire({
					position: 'top-end',
					icon: 'info',
					title: 'Por favor registre primero fecha y hora...',
					showConfirmButton: false,
					timer: 2500
				})
			} else {
				if ($('#nombre' + id).val() == "" || $('#registro' + id).val() == "") {
					Swal.fire({
						position: 'top-end',
						icon: 'info',
						title: 'Por favor registre primero nombre y registro...',
						showConfirmButton: false,
						timer: 2500
					})
				} else {

				   
					
						idImagen = id;
						limpiarCanvas()
						var myModal = new bootstrap.Modal(document.getElementById('modalFirma'))
						myModal.show()
						
					

				}
			}

		}


	}

	function pasarFirma() {
		if ($('#poldatos').prop('checked')) {
			imagencargada = canvas.toDataURL("image/png");
			//document.querySelector("#firma").src = window.opener.obtenerImagen();
			document.querySelector("#firma" + idImagen).src = canvas.toDataURL("image/png");

			$('#firma' + idImagen).removeClass('oculto')
			$('#btnFirmar' + idImagen).hide()

			 
			if (idImagen == 1 || idImagen == 2) {
				actFirmas()
			}
 
		

			if(idImagen == 100){
				guardarObs()
			}
			

		} else {
			Swal.fire({
				position: 'top-end',
				icon: 'info',
				title: 'Debe aceptar las políticas de protección de datos perasonales',
				showConfirmButton: false,
				timer: 1500
			})
		}


		//document.querySelector("#btnfirmar").style.display = 'none';

	}

	function getParameterByName(name) {
		name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
		var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
			results = regex.exec(location.search);
		return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
	}

	var tag = getParameterByName('tag');
	var arrayDatos = []
	var firmasItems = []
	var arrayInfo = []

	odsq = localStorage.getItem('odsq');
	equipos = sessionStorage.getItem('equipo')
	alcance = sessionStorage.getItem('servicio')
	esp = sessionStorage.getItem('esp')


	var server = "https://utitalco.com/calidad/027/server/";

	$.post(server + 'cargarRca83.php', {
			ods: odsq,
			tag: tag
		},
		function (resp) {
			arrayDatos = resp
			cargarDatos()
		})

	function cargarDatos() {

		$('#unidad').html(arrayDatos.unidad)
		$('#planta').html(arrayDatos.planta)

		$('#ods').html(arrayDatos.ods)
		$('#familia').html(arrayDatos.familia)
		$('#tag').html(arrayDatos.tag)

		if(arrayDatos.info != ""){

			 arrayInfo = JSON.parse(arrayDatos.info)
			 

			 $('#serie').val(arrayInfo[0].serie)
			 $('#fecha').val(arrayInfo[0].fecha)
			 $('#material').val(arrayInfo[0].material)
			 $('#servicio').val(arrayInfo[0].servicio)
			 $('#rating').val(arrayInfo[0].rating)
			 $('#tipoplatina').val(arrayInfo[0].tipoplatina)


		}

		if(arrayDatos.equiposprueba != ""){

		arrayInfo = JSON.parse(arrayDatos.equiposprueba)


		$('#certificado').val(arrayInfo[0].certificado)
		$('#fechacal').val(arrayInfo[0].fechacal)


		}


		if(arrayDatos.verificaciondatos != ""){
			arrayItems = JSON.parse(arrayDatos.verificaciondatos)
			for(var i=0; i<= 10; i++){
				b=i+1;
				 $('#hojadatos'+b).val(arrayItems[i].hojadatos)
				 $('#medidas'+b).val(arrayItems[i].medidas)
				 $('#error'+b).val(arrayItems[i].error)
			}
		}

	 

		if(arrayDatos.firmas != ""){
			var arrayFirmasItems = JSON.parse(arrayDatos.firmas)

			//ecp

			$('#fecha2').val(arrayFirmasItems[0].fechaec)
			$('#hora2').val(arrayFirmasItems[0].horaec)
			$('#nombre2').val(arrayFirmasItems[0].nombreec)

			if(arrayFirmasItems[0].fechaec != ""){
				document.querySelector("#firma2").src = arrayFirmasItems[0].firmaec;
				$('#firma2').removeClass('oculto')
				$('#btnFirmar2').hide()
			}

			$('#registro2').val(arrayFirmasItems[0].registroec)

			//ut

			$('#fecha1').val(arrayFirmasItems[0].fechaut)
			$('#hora1').val(arrayFirmasItems[0].horaut)
			$('#nombre1').val(arrayFirmasItems[0].nombreut)

			if(arrayFirmasItems[0].fechaut != ""){
				document.querySelector("#firma1").src = arrayFirmasItems[0].firmaut;
				$('#firma1').removeClass('oculto')
				$('#btnFirmar1').hide()
			}

			$('#registro1').val(arrayFirmasItems[0].registrout)


		}

	






		//CARGUE DE OBSERVACIONES

		if (arrayDatos.observaciones != "") {
			var arrayObs = JSON.parse(arrayDatos.observaciones)
			var html = ''
			for (var i = 0; i < arrayObs.length; i++) {
				html = `<b>Nota ${i+1}: </b>
				${arrayObs[i].obs} | ${arrayObs[i].nombre} | Registro: ${arrayObs[i].registro} | Fecha: ${arrayObs[i].fecha} | Firma: <span id="firm${i}" style="width: 60px;"></span> <br>--------------------------------------------------------------------------------------------------------------------------------------------------------------------<br>
				`
				$('#observaciones').append(html)
				const imagef = document.createElement('img')
				imagef.src = arrayObs[i].firma
				imagef.height = "60"
				document.querySelector('#firm' + i).appendChild(imagef)

			}
		}
		if(arrayDatos.doc!= ""){
			listaArchivos = JSON.parse(arrayDatos.doc)

		}


		Swal.close()


	}


	//actualiza informacion

	function actInfo(){
		var serie = $('#serie').val()
		var fecha = $('#fecha').val()
		var material = $('#material').val()
		var servicio = $('#servicio').val()
		var rating = $('#rating').val()
		var tipoplatina = $('#tipoplatina').val()

		var arrayInfo = []

		arrayInfo.push({
			"serie":serie,
			"fecha":fecha,
			"material":material,
			"servicio":servicio,
			"rating":rating,
			"tipoplatina":tipoplatina
		})

		$.post(server + 'act83info.php', {
				ods: odsq,
				tag: tag,
				datos: JSON.stringify(arrayInfo)
			},
			function (res) {
					Swal.fire({
						position: 'top-end',
						icon: 'success',
						width: 100,
						showConfirmButton: false,
						timer: 1500
					})
			})

	}

	function actEquipos(){
		var certificado = $('#certificado').val()
		var fechacal = $('#fechacal').val()

		var arrayInfo = []

		arrayInfo.push({
			"certificado":certificado,
			"fechacal":fechacal
		})

		$.post(server + 'act83Equipos.php', {
				ods: odsq,
				tag: tag,
				datos: JSON.stringify(arrayInfo)
			},
			function (res) {
					Swal.fire({
						position: 'top-end',
						icon: 'success',
						width: 100,
						showConfirmButton: false,
						timer: 1500
					})
			})

	}

  

	function actDatos(){

		var arrayItems = []

			for(var i=1; i<=11; i++){
				var hojadatos = $('#hojadatos'+i).val()
				var medidas = $('#medidas'+i).val()
				var error = $('#error'+i).val()

				arrayItems.push({
					'hojadatos':hojadatos,
					'medidas':medidas,
					'error':error
				})

			}

			$.post(server + 'act83Datos.php', {
				ods: odsq,
				tag: tag,
				datos: JSON.stringify(arrayItems)
			},
			function (res) {
					Swal.fire({
						position: 'top-end',
						icon: 'success',
						width: 100,
						showConfirmButton: false,
						timer: 1500
					})
			})
	}

	
	 function actFirmas(){

		var fechaec = $('#fecha2').val()
		var horaec = $('#hora2').val()
		var nombreec = $('#nombre2').val()

		var img = document.getElementById("firma2");
		var firmaec = img.src

		if (fechaec == '') {
			firmaec = ''
		}

		var registroec = $('#registro2').val()

		var fechaut = $('#fecha1').val()
		var horaut = $('#hora1').val()
		var nombreut = $('#nombre1').val()

		var img = document.getElementById("firma1");
		var firmaut = img.src

		if (fechaut == '') {
			firmaut = ''
		}

		var registrout = $('#registro1').val()

		var arrayFirmasItems = []

		arrayFirmasItems.push({
			'fechaec':fechaec,
			'horaec':horaec,
			'nombreec':nombreec,
			'firmaec':firmaec,
			'registroec':registroec,
			'fechaut':fechaut,
			'horaut':horaut,
			'nombreut':nombreut,
			'firmaut':firmaut,
			'registrout':registrout,
		})

		$.post(server + 'act83Firmas.php', {
				ods: odsq,
				tag: tag,
				datos: JSON.stringify(arrayFirmasItems)
			},
			function (res) {
					Swal.fire({
						position: 'top-end',
						icon: 'success',
						width: 100,
						showConfirmButton: false,
						timer: 1500
					})
			})

	}

	 

	function mostraraviso() {
		let timerInterval
		Swal.fire({
			title: 'Políticas de protección de datos personales',
			text: 'En cumplimiento con la Ley 1581 de protección de datos personales, se le informa que los datos suministrados serán incorporados a una base de datos cuya finalidad es el registro de control de actividades RCA y las actuaciones que se deriven de dicha gestión, cuyo responsable del tratamiento es UT ITALCO. Mediante el registro de sus datos  a través de este formato usted autoriza a UT ITALCO, a tratar los datos con la finalidad descrita arriba.  Como Titular se le informa que podrá ejercer sus derechos de acceso y reclamos a través del correo de contacto pqrsbca@utitalco.com.',
			timer: 20000,
			timerProgressBar: true,
			didOpen: () => {
				Swal.showLoading()
				const b = Swal.getHtmlContainer().querySelector('b')
				timerInterval = setInterval(() => {
					b.textContent = Swal.getTimerLeft()
				}, 100)
			},
			willClose: () => {
				clearInterval(timerInterval)
			}
		}).then((result) => {
			/* Read more about handling dismissals below */
			if (result.dismiss === Swal.DismissReason.timer) {
				console.log('I was closed by the timer')
			}
		})
	}

	function cargando() {
		let timerInterval
		Swal.fire({
			title: 'Cargando formato...!',
			timer: 20000,
			timerProgressBar: true,
			didOpen: () => {
				Swal.showLoading()
				const b = Swal.getHtmlContainer().querySelector('b')
				timerInterval = setInterval(() => {
					// b.textContent = Swal.getTimerLeft()
				}, 100)
			},
			willClose: () => {
				clearInterval(timerInterval)
			}
		}).then((result) => {
			/* Read more about handling dismissals below */
			if (result.dismiss === Swal.DismissReason.timer) {
				console.log('I was closed by the timer')
			}
		})
	}

	function verArchivos() {
		var htmltexto = ''
		for (var i = 0; i < listaArchivos.length; i++) {
			htmltexto += `
				<a href='https://utitalco.com/calidad/027/server/archivos/${listaArchivos[i].archivo}' target='_blank'>${listaArchivos[i].archivo}</a> <br>
			`
		}

		Swal.fire({
			title: '<strong>Lista de adjuntos</strong>',
			icon: 'info',
			html: `
			Pulse click sobre el archivo que desea descargar... <br>
			${htmltexto}
			`

		})
	}

	function adjuntar() {
		Swal.fire({
			title: 'Adjuntar archivo',
			html: `
			<input type="file" id="archivo" class="form-control" placeholder="Buscar...">
			`,
			showCancelButton: true,
			confirmButtonText: 'Adjuntar'
		}).then((result) => {
			/* Read more about isConfirmed, isDenied below */
			if (result.isConfirmed) {

				var formData = new FormData();
				var files = $('#archivo')[0].files[0];
				formData.append('archivo', files);
				formData.append('ods', odsq);
				formData.append('tag', tag);
				$.ajax({
					url: server + 'guardarArchivo83.php',
					type: 'post',
					data: formData,
					contentType: false,
					processData: false,
					success: function (response) {
						console.log(response)

						if (response.msn == "Ok") {
							Swal.fire({
								position: 'top-end',
								icon: 'success',
								title: 'Archivo cargado correctamente...',
								showConfirmButton: false,
								timer: 1500
							}).then(() => {

								location.reload();
							})
						} else {
							Swal.fire({
								icon: 'error',
								title: 'Oops...',
								text: 'Formato de archivo incorrecto...!',
							})
						}
					}
				});

			}
		})
	}

	function guardarObs() {
		var observacion = $('#obs100').val()
		var nombreobs = $('#nombre100').val()
		var registroobs = $('#registro100').val()
		var img = document.getElementById("firma100");

		// crea un nuevo objeto `Date`
		var today = new Date();

		// obtener la fecha y la hora
		var now = today.toLocaleString();
		var firmaobs = img.src

		if(arrayDatos.observaciones != ""){

			var arrayLmp = JSON.parse(arrayDatos.observaciones)
		}else{
			var arrayLmp = []
		}

		

		arrayLmp.push({
			"obs": observacion,
			"nombre": nombreobs,
			"registro": registroobs,
			"firma": firmaobs,
			"fecha": now
		})


		$.post(server + 'actOs83Obs.php', {
				ods: odsq,
				tag: tag,
				datos: JSON.stringify(arrayLmp)
			},
			function (res) {
				console.log(res)
				location.reload()
			})

	}



</script>
</body>

</html>